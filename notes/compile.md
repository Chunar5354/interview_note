一个应用程序从源代码到执行，大概可以分成三个步骤：`编译`、`链接`和`加载`

## 编译

编译就是将用户编写的源代码转换成计算机可以识别的机器码（二进制）的过程

以golang的编译为例，主要有4个步骤：

- 1.词法与语法分析，生成抽象语法树

- 2.类型检查，这一阶段通过后可以认为程序没有问题

- 3.中间代码生成，主要进行一些优化（比如一个变量被修改多次，可能只有最后的状态是需要的）

- 4.机器码生成

关于golang编译原理的详细解释请看[这里](https://draveness.me/golang/docs/part1-prerequisite/ch02-compile/golang-compile-intro/)

## 链接

链接是将多个目标文件合并成一个`可执行文件`的过程

可执行文件和动态链接库的区别：可执行文件中有`main()`函数，它是整个程序的起点，而动态链接库没有

链接分为静态链接和动态链接

### 静态链接

静态链接发生在形成可执行文件`之前`

多个源文件之间可能存在调用关系，比如import等，静态链接的目的就是将这些互相存在调用关系的目标文件`组合在一起`形成一个可执行文件

静态链接是以`目标文件`为单位的，即使只适用一个函数，也会将整个文件都链接进来，所以为了节省空间，如果使用静态链接要尽量为每个函数放在一个独立的目标文件中

静态链接的缺点是`浪费空间`，且`更新`时要对所有链接的文件进行更新

优点是执行`速度快`

### 动态链接

动态链接发生在`程序执行时`

动态链接把程序按照模块拆分成`相对独立的部分`，等到程序实际执行时再加载

加载到内存中的动态链接库可以被多个程序`复用`

动态链接解决了空间和更新的问题，代价是每次执行程序都要进行链接，速度较慢

## 加载

加载就是将可执行文件从硬盘`拷贝到内存`中，并跳转到程序的`第一条指令`处开始执行
