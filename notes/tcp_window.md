## TCP滑动窗口

窗口是`缓存`的一部分，发送方和接受方都有各自的缓存和窗口

- 发送缓存，`已就绪未发送`的和`已发送未确认`的数据

- 接收缓存，已接收但`未被用户程序使用`的数据

TCP接收方通过窗口来控制发送方`可传送的字节数`，将窗口大小作为`报文段`的一个字段来告诉发送方，发送方根据它来设置自己的窗口（长度相同）

如图所示

[![6GqfhQ.png](https://s3.ax1x.com/2021/03/10/6GqfhQ.png)](https://imgtu.com/i/6GqfhQ)

- 发送窗口内的字节都允许发送，接收窗口内的字节都允许被接收

- 在发送窗口，每当左侧收到确认，就向右滑动窗口直到`未收到确认`的字节

- 在接收窗口，每当左侧发送了确认并交付到主机，就向右滑动直到未发送确认的字节

- 接收窗口只对窗口内`最后`一个`按序`到达的字节进行确认

当接收方窗口为0时，发送方要发送窗口探测，以获取接收方的响应得知`新的窗口大小`