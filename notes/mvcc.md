MVCC，多版本并发控制，用来在多个事务并发执行时进行事务间的隔离

MVCC的优点在于能够实现一定程度的读写并发，且`不需要加锁`，缺点是增加了额外的`存储空间`和`判断`

MySQL中MVCC的实现是通过保存数据在某个时间点的`快照`来实现的（快照保存在undo log中），根据事务开始时间的不同，每个事务对同一张表同一时刻看到的内容可能是`不同的`

InnoDB的MVCC是通过在记录后面保存`两个隐藏列`来实现的，分别保存了当前行的`创建版本号`和`删除版本号`

MVCC只与读已提交和可重复读两个隔离级别兼容，对于MySQL，MVCC对各个操作的执行如下：

- SELECT：只查找版本`早于当前事务版本`的行，并且行的删除版本要么未定义，要么`大于当前事务版本号`，这样就保证该事务读到的数据在事务开始之前未被删除

- INSERT：为新插入的行保存`当前系统版本号`作为行创建版本号

- DELETE：为删除的行保存当前系统版本号作为行删除版本号

- UPDATE：为被更新的行保存当前系统版本号作为行创建版本号，同时为原来未更新时的行保存当前系统版本号作为行删除版本号（相当于将更新操作分成两部分，旧行删除并插入新行）